{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Comparer les algorithmes TSP</title>
  <link rel="stylesheet" href="{% static 'home_app/compare.css' %}">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
</head>
<body>
  <img src="{% static 'bg.jpg' %}" alt="" id="bg">
  <div class="compare-container">

    <h1>Comparer les algorithmes TSP</h1>

    <form id="compareForm" class="compare-form" method="post">
      {% csrf_token %}

      <div class="panels">
        <!-- Algorithme A -->
        <div class="algo-panel">
          <h2>Algorithme A</h2>
          <div class="form-group">
            <label for="algoA">Type d’algorithme</label>
            <select id="algoA" name="algoA">
              <option value="cooperative">TSP Cooperatif</option>
              <option value="aco">ACO</option>
              <option value="ga">GA</option>
              <option value="hbc">Honey-Bee Colony</option>
              <option value="sa">Recuit simulé</option>
            </select>
          </div>
          <div class="form-group">
            <label for="fileA">Fichier de benchmark</label>
            <select id="fileA" name="fileA">
              <option value="berlin52_coords.txt">Berlin52</option>
              <option value="kr100_coords.txt">KR100</option>
              <option value="ch150_coords.txt">CH150</option>
              <option value="kr200_coords.txt">KR200</option>
            </select>
          </div>
          <div class="form-group">
            <label for="popA">Taille population</label>
            <input type="number" id="popA" name="popA" value="50" min="1"/>
          </div>
          <div class="form-group">
            <label for="iterA">Itérations</label>
            <input type="number" id="iterA" name="iterA" value="500" min="1"/>
          </div>
        </div>

        <!-- Algorithme B -->
        <div class="algo-panel">
          <h2>Algorithme B</h2>
          <div class="form-group">
            <label for="algoB">Type d’algorithme</label>
            <select id="algoB" name="algoB">
              <option value="cooperative">TSP Cooperatif</option>
              <option value="aco">ACO</option>
              <option value="hbc">Honey-Bee Colony</option>
              <option value="sa">Recuit simulé</option>
            </select>
          </div>
          <div class="form-group">
            <label for="fileB">Fichier de benchmark</label>
            <select id="fileB" name="fileB">
              <option value="berlin52_coords.txt">Berlin52</option>
              <option value="kr100_coords.txt">KR100</option>
              <option value="ch150_coords.txt">CH150</option>
              <option value="kr200_coords.txt">KR200</option>
            </select>
          </div>
          <div class="form-group">
            <label for="popB">Taille population</label>
            <input type="number" id="popB" name="popB" value="50" min="1"/>
          </div>
          <div class="form-group">
            <label for="iterB">Itérations</label>
            <input type="number" id="iterB" name="iterB" value="500" min="1"/>
          </div>
        </div>
      </div>

      <!-- Conteneur action -->
      <div class="form-actions">
        <button type="submit" class="compare-button">Lancer la comparaison</button>
      </div>
    </form>

    <!-- Résultats -->
    <div id="compareResults" class="results-grid hidden">
      <div class="algo-results">
        <h2 id="titleA"></h2>
        <div class="chart-card">
          <h3>Distance (A)</h3>
          <canvas id="distChartA"></canvas>
        </div>
        <div class="chart-card">
          <h3>Erreur (%) (A)</h3>
          <canvas id="errChartA"></canvas>
        </div>
      </div>
      <div class="algo-results">
        <h2 id="titleB"></h2>
        <div class="chart-card">
          <h3>Distance (B)</h3>
          <canvas id="distChartB"></canvas>
        </div>
        <div class="chart-card">
          <h3>Erreur (%) (B)</h3>
          <canvas id="errChartB"></canvas>
        </div>
      </div>
    </div>
  </div>

  <script src="{% static 'home_app/compare.js' %}"></script>
</body>
</html>
